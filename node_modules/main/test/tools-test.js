"use strict";
/* global describe */
/* global it */

var tools = require('../tools')
, expect = require('chai').expect;

describe('tools', function() {

	var markdown = [
		'# sample -- A demonstration of the features & formatting',
		'',
		'## SYNOPSIS',
		'',
		'sample [flags] `<first>` `<last>` `[pet]`',
		'',
		'## OPTIONS',
		'',
		'### -f, --flag',
		'A simple boolean flag',
		'',
		'### -n NUM, --number NUM',
		'A simple number flag',
		'',
		'### -s "STRING", --string "STRING"',
		'A simple string flag',
		'',
		'### --anything ANYTHING',
		'A simple string flag',
		'',
		'### --default=SOMETHING, -d SOMETHING (default=foo)',
		'',
		'## BUGS',
		'',
		'GitHub'
	].join('\n');

	describe('load', function() {

		var $ = tools.load(['-s', 'hello', 'one', 'two'], markdown);

		it('should allow chaining', function() {
			expect(typeof $.cout('').cerr('')).to.equal('object');
		});

		it('should be able to grab values', function() {
			expect($('string')).to.equal('hello');
			expect($('default')).to.equal('foo');
			expect($.pos).to.eql(['one', 'two']);
		});

		it('should assert things alright', function() {
			$.assert(true);
			$.assert.equal(5, 5);
		});
	});

});
