#!/usr/bin/env node
"use strict";

require('../main').run(module, './man/args.md', function($) {

	$.assert.equal($.pos.length, 3, 'expected 3 positional arguments');

	// If you wanted to check for >= 3:
	// $.assert($.pos.length >= 3, 'expected 3 or more arguments');

	// array of positional arguments is held in $.pos, or can be accessed
	// one at a time
	$.cout($.pos).cout($(0)).cout($(1)).cout($(2));

	// Let's get the values of some of our flags that have been
	// setup in args.md

	$.cout('flag:', $('f'), $('flag'));

	$.cout('anything:', $('anything'));

	$.cout('home:', $('home'));

	if ($('flag')) {
		$.cout('success!').exit();
	} else {
		$.cerr('Try running with --flag set').exit(1);
	}
});
